## 第三方Javascript SDK

所以第三方Javascript SDK在开发时，一般要满足做到如下要求：

1. 鲁棒性，SDK需要兼容尽可能多的兼容各种浏览器，处理和测试尽可能多的边界条件
2. 控制SDK大小，SDK越小对用户页面的影响也越小。所以SDK要尽量少依赖jQuery这样的通用库，你需要一个容易拆分的JS工具库，只使用其中必要的功能
3. 向前兼容，因为JS SDK通常是被打包到开发者的页面中去的，用户更新SDK的成本是很高的，所以一定要确保SDK的向前兼容
4. 易用性，API越是简单易用的SDK，越是容易被推广

## Third.js的优势

Third.js 采用了模块化开发的方式，每个功能函数都是一个单独的模块。SDK的开发者可以仅仅require自己需要的模块，然后使用webpack/rollup这样的工具实现打包。就可以最大限度地控制SDK的大小。

Third.js 提供了很多的专用于第三方JS SDK开发的工具类函数，同时也提供了很多的第三方JS开发的最佳实践。例如：数据的跨域发送、跨域消息发送、cookie的跨子域跨路径获取、判断页面是否处于预览或预渲染模式中、使用Friendly IFrame来加载额外JS脚本等等。

同时 Third.js 还内置了沙盒机制，不会因为SDK的使用者修改了某些全局API就导致SDK出现bug。Third.js 也支持大部分的浏览器，甚至兼容了包括IE6在内的旧浏览器。

## Third.js的最佳实践

1. 跨域发送
    1. ping
    2. JSONP
    3. submit
2. 跨域消息发送
3. cookie的跨路径获取操作
4. JS加载
5. SDK API接口
6. 其他小技巧
